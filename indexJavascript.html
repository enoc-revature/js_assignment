<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>DOM</title>
</head>
<body>
  
  <div>
    <div>
      <h3>Sum: <span id="sum"></span></h3>
      <h5 id="currentTime"></h5>
    </div>
    <div>
      <h1>United <span data-customAttr="USA">States</span> of America (<span>USA</span>)</h1>
      <div><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a></div>
      <a>Click Here</a>
      <a>Click <span>Here1</span></a>
      <a>Click Here</a>
      <div>
	  <select name="colors">
	    <option value="green">Green</option>
	    <option value="blue">Blue</option>
	    <option value="red" selected="selected">Red</option>
	    <option value="purple">Purple</option>
	    <option value="yellow" selected="selected">Yellow</option>
	  </select>
      </div>
    </div>
    <p id="helloWorld">Hello, World!</p>
    <div>
      <table>
        <tr>
          <th>Name</th>
          <th>Department</th>
        </tr>
        <tr>
          <td class="empName">John</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Amy</td>
          <td>Finance</td>
        </tr>
        <tr>
          <td class="empName">Austin</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Katie</td>
          <td>Marketing</td>
        </tr>
        <tr>
          <td class="empName" data-customAttr="court">Courtney</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Scout</td>
          <td>Sales</td>
        </tr>
      </table>
    </div>
    <form id="firstForm">
      <a>Click <span>Here2</span></a>
	  <input type="text" data-customAttr="7"/><br/>
	  <input type="text" data-customAttr="24"/><br/>
	  <input type="radio" name="favoriteAnimal" value="dog"/>Dog<br/>
	  <input type="radio" name="favoriteColor" value="blue"/>Blue<br/>
	  <input id="num1" class="nums" type="text"/><br/>
	  <input type="radio" name="favoriteAnimal" value="cat"/>Cat<br/>
	  <input type="radio" name="favoriteColor" value="red"/>Red<br/>
	  <input type="radio" name="favoriteAnimal" value="horse"/>Horse<br/>
	  <input type="radio" name="favoriteAnimal" value="dolphin"/>Dolphin<br/>
	  <a>Click <span>Here</span></a><br/>
	  <input type="radio" name="favoriteAnimal" value="eagle"/>Eagle<br/>
	  <input type="radio" name="favoriteColor" value="green"/>Green<br/>
	  <input type="radio" name="favoriteColor" value="orange"/>Orange<br/>
	  <select name="hobbies">
	    <option value="photography">Photography</option>
	    <option value="football" selected="selected">Football</option>
	    <option value="kayaking" selected="selected">Kayaking</option>
	    <option value="hiking">Hiking</option>
	    <option value="programming" selected="selected">Programming</option>
	  </select>
	  <input id="num2" class="nums" type="text"/>
	  <select name="skills">
	    <option value="java">Java</option>
	    <option value="net">.NET</option>
	    <option value="dom" selected="selected">DOM</option>
	    <option value="html">HTML</option>
	    <option value="css">CSS</option>
	    <option value="javascript" selected="selected">Javascript</option>
	  </select>
    </form>
  </div>
  <a>Click Here</a>
  <a>Click <span data-customAttr="500">Here3</span></a>
  <a>Click Here</a>
	  
  <script type="text/javascript">
    //TODO: Javascript homework
/*
-----------------------------------------------------------------------------------
PART II

Part II will focus on Javascript's ability to manipulate the DOM.
Use the provided index.html
Put your Javascript in the provided <script> element at the bottom of the page.
Please put the question itself as a comment above each answer.

NOTE: Part II will be done twice: once with Javascript and once with jQuery.
	  They should be done separately.
	  Copy the index.html file and rename them to: indexJavascript.html and indexJQuery.html
-----------------------------------------------------------------------------------
*/

/*
1. USA
Define function getUSA()
Find the html element that contains "USA".
Print that element's contents.
*/
//<h1>United <span data-customAttr="USA">States</span> of America (<span>USA</span>)</h1>
function getUSA(){
  let elems = document.querySelectorAll('[data-customAttr="USA"]');
  console.log(elems[0].innerHTML);
}



/*
2. Sales
Define function getPeopleInSales()
Print the names of all the people in the sales department.
*/
// Traverse rows
function PeopleInSales(){  
  let tableElem = document.getElementsByTagName("table")[0];
  // Traverse rows
  console.log("List of Sales Associates:");
  for(let r=0,row,cell; row=tableElem.rows[r]; r++){
  
    // Traverse columns
    empName = row.cells[0].innerHTML;
    empDept = row.cells[1].innerHTML;
    if(empDept === "Sales"){
      console.log(empName);
    }
  }
}



/*
3. Click Here
Define function getAnchorChildren()
Find all anchor elements with a <span> child.
Print the contents of <span>
*/
function getAnchorCollection(){
  let anchroElems = document.getElementsByTagName("a");
  let span;
  for(let i=0; i<anchorElems.length; i++){
    span = anchorElems[i].getElementsByTagName("span")[0];
    if(span)
      console.log(span.innerHTML);
  }
}



/*
4. Hobbies
Define function getHobbies()
Find the checked option in the 'hobbies' select element.
Print the value and the contents.
*/
function getHobbies(){
  let selectElem = document.getElementsByName("hobbies")[0];
  let optionElem;

  console.log("Selected Hobbies:");
  for(let i=0; i<selectElem.childElementCount; i++){
    optionElem = selectElem[i];
    if(optionElem.defaultSelected)
      console.log(optionElem.innerHTML);
  }
}


  
/*
5. Custom Attribute
Define function getCustomAttribute()
Find all elements with "data-customAttr" attribute
Print the value of the attribute.
Print the element that has the attribute.
*/
function getCustomAttribute(){
  let elemsArr = document.querySelectorAll("[data-customAttr]");

  console.log("Elements that have the attribute data-customAttr (Element:Value):");
  for(let i=0; i<elemsArr.length; i++)
    console.log(elemsArr[i].tagName + " : " + elemsArr[i].getAttribute("data-customAttr"));

}



/*
6. Sum Event
NOTE: Write unobtrusive Javascript
Regarding these elements:
	<input id="num1" class="nums" type="text"/>
	<input id="num2" class="nums" type="text"/>
	<h3>Sum: <span id="sum"></span></h3>
*/

// This has to be commented out because it interfers with code in problem 7.
let n1_6 = document.getElementById("num1").value;
let n2_6 = document.getElementById("num2").value;
document.getElementById("sum").innerHTML = + n1_6 + + n2_6;

/*
Define onchange event handler.
Add <input> element values.
Put the sum in the <span> element.
If values cannot be added, put "Cannot add" in the <span> element
*/

var n1=null;
var n2=null;
window.onload = function(){
 // This code gets buggy when the lines for question 6 are not commented out.
  document.getElementById("num1").addEventListener('change', onChangeOne);
  document.getElementById("num2").addEventListener('change', onChangeTwo);
}

function numOne(){
  //console.log("numOne() executed");
  n1 = document.getElementById("num1").value;
}

function numTwo(){
  //console.log("numTwo() executed");
  n2 = document.getElementById("num2").value;
}

function updateHeader(){
  let addition = + n1 + + n2;
  if(isNaN(addition))
    document.getElementById("sum").innerHTML = "Cannot Add";
  else if(!!n1 && !!n2)
    document.getElementById("sum").innerHTML = addition;
  else
    document.getElementById("sum").innerHTML = "Cannot Add";
}

function onChangeOne() {
  //console.log("onChangeOne() executed");
  numOne();
  updateHeader();
}

function onChangeTwo() {
  //console.log("onChangeTwo() executed");
  numTwo();
  updateHeader();
}



/*
7. Skills Event
NOTE: Write unobtrusive Javascript
When user selects a skill, create an alert with a message similar to:
	"Are you sure CSS is one of your skills?"
NOTE: no alert should appear when user deselects a skill.
*/
var selectElem = document.getElementsByName("skills")[0];
selectElem.addEventListener("change", function(){
  alert("Are you sure " + selectElem[selectElem.selectedIndex].innerHTML + " is one of your skills?");
});



/* 
8. Favorite Color Event
NOTE: Write unobtrusive Javascript
NOTE: This is regarding the favoriteColor radio buttons.
When a user selects a color, create an alert with a message similar to:
	"So you like green more than blue now?"
In this example, green is the new value and blue is the old value.
Make the background color (of all favoriteColor radio buttons) the newly selected favoriteColor
*/
var colorArr = document.getElementsByName("favoriteColor");
var colorBlue = colorArr[0];
var colorRed = colorArr[1];
var colorGreen = colorArr[2];
var colorOrange = colorArr[3];
var oldColor = "";
var newColor = "";
//<span style="background-color:red;"><input type="radio" name="favoriteColor" value="blue"/></span>Blue<br/>

colorBlue.addEventListener("change", function(){
  oldColor = newColor;
  newColor = colorBlue.value;
  if(!!oldColor)
    alert("So you like " + newColor + " more than " + oldColor + " now?");
  let rangeBlue = document.createRange();
  let rangeRed = document.createRange();
  let rangeGreen = document.createRange();
  let rangeOrange = document.createRange();
  let spanElemBlue = document.createElement("span");
  let spanElemRed = document.createElement("span");
  let spanElemGreen = document.createElement("span");
  let spanElemOrange = document.createElement("span");
  spanElemBlue.style.backgroundColor = "blue";
  spanElemRed.style.backgroundColor = "blue";
  spanElemGreen.style.backgroundColor = "blue";
  spanElemOrange.style.backgroundColor = "blue";
  rangeBlue.selectNode(colorBlue);
  rangeBlue.surroundContents(spanElemBlue);
  rangeRed.selectNode(colorRed);
  rangeRed.surroundContents(spanElemRed);
  rangeGreen.selectNode(colorGreen);
  rangeGreen.surroundContents(spanElemGreen);
  rangeOrange.selectNode(colorOrange);
  rangeOrange.surroundContents(spanElemOrange);
});

colorRed.addEventListener("change", function(){
  oldColor = newColor;
  newColor = colorRed.value;
  if(!!oldColor)
    alert("So you like " + newColor + " more than " + oldColor + " now?");
  let rangeBlue = document.createRange();
  let rangeRed = document.createRange();
  let rangeGreen = document.createRange();
  let rangeOrange = document.createRange();
  let spanElemBlue = document.createElement("span");
  let spanElemRed = document.createElement("span");
  let spanElemGreen = document.createElement("span");
  let spanElemOrange = document.createElement("span");
  spanElemBlue.style.backgroundColor = "red";
  spanElemRed.style.backgroundColor = "red";
  spanElemGreen.style.backgroundColor = "red";
  spanElemOrange.style.backgroundColor = "red";
  rangeBlue.selectNode(colorBlue);
  rangeBlue.surroundContents(spanElemBlue);
  rangeRed.selectNode(colorRed);
  rangeRed.surroundContents(spanElemRed);
  rangeGreen.selectNode(colorGreen);
  rangeGreen.surroundContents(spanElemGreen);
  rangeOrange.selectNode(colorOrange);
  rangeOrange.surroundContents(spanElemOrange);
});

colorGreen.addEventListener("change", function(){
  oldColor = newColor;
  newColor = colorGreen.value;
  if(!!oldColor)
    alert("So you like " + newColor + " more than " + oldColor + " now?");
  let rangeBlue = document.createRange();
  let rangeRed = document.createRange();
  let rangeGreen = document.createRange();
  let rangeOrange = document.createRange();
  let spanElemBlue = document.createElement("span");
  let spanElemRed = document.createElement("span");
  let spanElemGreen = document.createElement("span");
  let spanElemOrange = document.createElement("span");
  spanElemBlue.style.backgroundColor = "green";
  spanElemRed.style.backgroundColor = "green";
  spanElemGreen.style.backgroundColor = "green";
  spanElemOrange.style.backgroundColor = "green";
  rangeBlue.selectNode(colorBlue);
  rangeBlue.surroundContents(spanElemBlue);
  rangeRed.selectNode(colorRed);
  rangeRed.surroundContents(spanElemRed);
  rangeGreen.selectNode(colorGreen);
  rangeGreen.surroundContents(spanElemGreen);
  rangeOrange.selectNode(colorOrange);
  rangeOrange.surroundContents(spanElemOrange);
});

colorOrange.addEventListener("change", function(){
  oldColor = newColor;
  newColor = colorOrange.value;
  if(!!oldColor)
    alert("So you like " + newColor + " more than " + oldColor + " now?");
  let rangeBlue = document.createRange();
  let rangeRed = document.createRange();
  let rangeGreen = document.createRange();
  let rangeOrange = document.createRange();
  let spanElemBlue = document.createElement("span");
  let spanElemRed = document.createElement("span");
  let spanElemGreen = document.createElement("span");
  let spanElemOrange = document.createElement("span");
  spanElemBlue.style.backgroundColor = "orange";
  spanElemRed.style.backgroundColor = "orange";
  spanElemGreen.style.backgroundColor = "orange";
  spanElemOrange.style.backgroundColor = "orange";
  rangeBlue.selectNode(colorBlue);
  rangeBlue.surroundContents(spanElemBlue);
  rangeRed.selectNode(colorRed);
  rangeRed.surroundContents(spanElemRed);
  rangeGreen.selectNode(colorGreen);
  rangeGreen.surroundContents(spanElemGreen);
  rangeOrange.selectNode(colorOrange);
  rangeOrange.surroundContents(spanElemOrange);
});



/*
9. Show/Hide Event
NOTE: Write unobtrusive Javascript
When user hovers over an employees name:
	Hide the name if shown.
	Show the name if hidden.
*/
var empNames = document.getElementsByClassName("empName");
for(let i=0; i<empNames.length; i++){
  empNames[i].addEventListener("mouseenter", function(){
    empNames[i].style.color="white";
	});
    
  empNames[i].addEventListener("mouseleave", function(){
  	empNames[i].style.color="black";
	});
}



/*
10. Current Time
Regarding this element:
	<h5 id="currentTime"></h5>
Show the current time in this element in this format: 9:05:23 AM
The time should be accurate to the second without having to reload the page.
*/
function displayTime(){
  let timeElem = document.getElementById("currentTime");
  let currentDateTime = new Date();
  let hours = currentDateTime.getHours();
  let amPm = "AM";
  
  if(hours>12){
    hours -= 12;
    amPm = "PM";
  }
  timeElem.innerHTML =
    	hours + ":" +
    	currentDateTime.getMinutes() + ":" +
    	currentDateTime.getSeconds() + " " +
    	amPm;
}
window.setInterval(displayTime,1000);


/*
11. Delay
Regarding this element:
	<p id="helloWorld">Hello, World!</p>
Three seconds after a user clicks on this element, change the text to a random color.
*/
var helloTag = document.getElementById("helloWorld");
helloTag.addEventListener("click", function(){
  setTimeout(function(){
    helloTag.style.background = getRandomColor();
  },3000);
});

function getRandomColor(){
  var hexLetters = '0123456789ABCDEF';
  var output = "";
  for(let i=0; i<4; i++)
    output += hexLetters[Math.floor(Math.random()*16)];
  return "#" + output;
}

/*
12. Walk the DOM
Define function walkTheDOM(node, func)
This function should traverse every node in the DOM. Use recursion.
On each node, call func(node).
*/
function walkTheDOM(node, func){
  if((typeof node === "object") &&
        (typeof node.children !== "undefined") &&
        (node.children.length > 0)){
    for(let i=0; i<node.childElementCount; i++){
      func("Element: "+node.tagName);
      let child = node.children[i];
      func(node.childElementCount);
      walkTheDOM(child, func);
  }
  }
}

var root = document.getRootNode();
var elem = root.children[0];


  </script>
  
</body>
</html>